{% set pagetitle ="Campaign dates" %}
{% set versionNumber ="004" %}

{% extends 'layout.html' %}

{% block header %}




<header class="nhsuk-header" role="banner">

  <div class="nhsuk-header__container">
    <div class="nhsuk-header__logo"><a class="nhsuk-header__link nhsuk-header__link--service " href="home" aria-label="Select People for Invitations homepage">

        <svg class="nhsuk-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 16" height="40" width="100">
          <path class="nhsuk-logo__background" fill="#005eb8" d="M0 0h40v16H0z"></path>
          <path class="nhsuk-logo__text" fill="#fff" d="M3.9 1.5h4.4l2.6 9h.1l1.8-9h3.3l-2.8 13H9l-2.7-9h-.1l-1.8 9H1.1M17.3 1.5h3.6l-1 4.9h4L25 1.5h3.5l-2.7 13h-3.5l1.1-5.6h-4.1l-1.2 5.6h-3.4M37.7 4.4c-.7-.3-1.6-.6-2.9-.6-1.4 0-2.5.2-2.5 1.3 0 1.8 5.1 1.2 5.1 5.1 0 3.6-3.3 4.5-6.4 4.5-1.3 0-2.9-.3-4-.7l.8-2.7c.7.4 2.1.7 3.2.7s2.8-.2 2.8-1.5c0-2.1-5.1-1.3-5.1-5 0-3.4 2.9-4.4 5.8-4.4 1.6 0 3.1.2 4 .6"></path>
        </svg>

        <span class="nhsuk-header__service-name">
          Select People for Invitations
        </span>
      </a>
    </div>

    <div style="padding-top:8px" class="nhsuk-header__content" id="content-header">
       <svg style="" width="25px" height="25px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
           <title>Combined Shape</title>
           <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
               <path d="M50,0 C77.6142375,0 100,22.3857625 100,50 C100,77.6142375 77.6142375,100 50,100 C22.3857625,100 0,77.6142375 0,50 C0,22.3857625 22.3857625,0 50,0 Z M49.9740242,50 C36.461773,50 30.5623168,57.2206478 25.8955801,66.0142189 C21.0180345,74.8077899 21.876928,86.9120654 49.9740242,86.9120654 C78.0711204,86.9120654 78.9300139,74.8077899 74.0524683,66.0142189 C69.3857316,57.2206478 63.4862754,50 49.9740242,50 Z M49.9976555,14.6216769 C41.0752639,14.6216769 33.4852236,21.8547045 33.0448262,30.7770961 C32.6044287,39.6994878 40.1919983,46.9325153 49.9921371,46.9325153 C59.792276,46.9325153 67.3823162,39.6994878 66.9449665,30.7770961 C66.5076168,21.8547045 58.9200472,14.6216769 49.9976555,14.6216769 Z" id="Combined-Shape" fill="#D8DDE0"></path>
           </g>
       </svg>
       </div>
    </div>



</header>




{% endblock %}


{% set mainClasses = "nhsuk-main-wrapper--s" %}

{% block pageTitle %}
  {{ pagetitle }}
{% endblock %}


{% block outerContent %}
  {{ backLink({
    "href": "javascript:window.history.back()",
    "text": "Back",
    "classes": "nhsuk-u-margin-top-4 nhsuk-u-margin-bottom-0"
  }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-three-quarters   ">


      <h1 class="nhsuk-heading-l">
        Enter the invitation campaign start and end dates
      </h1>

      <p class="nhsuk-body">The invitations dates you enter are for the period when invitations will be sent. These dates can be changed if needed.</p>

      {% if data['update'] == 'dates' %}
      {% set action = 'summary' %}
      {% else %}
      {% set action = 'summary' %}
      {% endif %}




{% if data['editDates'] == 'true' %}
    {% set action = 'task-list' %}
{% endif %}

      <form action="{{ action }}" method="post">

      <div class="nhsuk-grid-row nhsuk-u-padding-bottom-7">
            <div class="nhsuk-grid-column-one-half">

              <span class="nhsuk-caption-m nhsuk-caption--top" for="fromDate">Invitations start date</span>
              <!-- <input datetimeformat="dd/mm/yyyy" style="border:1px solid lightgrey;width:240px;height:40px;font-size:24px;background:white;margin-top:10px"  value="{{ data['fromDate']}}" type="date" placeholder="dd-mm-yyyy" id="fromDate" name="fromDate"> -->
              <input datetimeformat="dd/mm/yyyy" style="border:1px solid lightgrey;width:240px;height:40px;font-size:24px;background:white;margin-top:10px"  value="{{ data['fromDate']}}"  type="date" placeholder="yyyy-mm-dd" id="fromDate" name="fromDate">



            </div>

            <div class="nhsuk-grid-column-one-half">

              <span class="nhsuk-caption-m nhsuk-caption--top" for="toDate">Invitations end date</span>
              <input datetimeformat="dd/mm/yyyy" style="border:1px solid lightgrey;width:240px;height:40px;font-size:24px;background:white;margin-top:10px" min="{{ data['fromDate']}}" value="{{ data['toDate'] }}" type="date" placeholder="dd-mm-yyyy" id="toDate" name="toDate">



            </div>
      </div>

<p class="nhsuk-body-m">The reporting data dates you enter will be used to make sure reporting data is available for the campaign during this period. These dates can be changed if needed.</p>


<div class="nhsuk-grid-row nhsuk-u-padding-bottom-6">
      <div class="nhsuk-grid-column-one-half">

        <span class="nhsuk-caption-m nhsuk-caption--top" for="fromReportingDate">Reporting data start date</span>
        <!-- <input datetimeformat="dd/mm/yyyy" style="border:1px solid lightgrey;width:240px;height:40px;font-size:24px;background:white;margin-top:10px"  value="{{ data['fromReportingDate']}}" type="date" placeholder="dd-mm-yyyy" id="fromDate" name="fromDate"> -->
        <input datetimeformat="dd/mm/yyyy" style="border:1px solid lightgrey;width:240px;height:40px;font-size:24px;background:white;margin-top:10px"  value="{{ data['fromDate']}}"  type="date" placeholder="yyyy-mm-dd" id="fromReportingDate" name="fromReportingDate">



      </div>

      <div class="nhsuk-grid-column-one-half">

        <span class="nhsuk-caption-m nhsuk-caption--top" for="toReportingDate">Reporting data end date</span>
        <input datetimeformat="dd/mm/yyyy" style="border:1px solid lightgrey;width:240px;height:40px;font-size:24px;background:white;margin-top:10px" min="{{ data['fromReportingDate']}}" value="{{ data['toReportingDate'] }}" type="date" placeholder="dd-mm-yyyy" id="toReportingDate" name="toReportingDate">



      </div>
</div>


      {{ button({
        text: "Save and continue"
      }) }}


    </form>

    </div>
  </div>

<script>

  var todayDate = new Date().toISOString().slice(0, 10);

  const fromEl = document.getElementById('fromDate');
  const fromElist = document.getElementById('fromDate');
  const toEl = document.getElementById('toDate');
  fromEl.min = todayDate.toString();

  fromElist.addEventListener('change', (event) => {
  console.log(fromEl.value)
  toEl.min = fromEl.value
     });


</script>




{% endblock %}
